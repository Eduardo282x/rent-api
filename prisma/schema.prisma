generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["relationJoins"]
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Rent {
  IdRent      Int    @id @default(autoincrement())
  NameRent    String @db.VarChar(200)
  AddressRent String @db.VarChar(200)
  TypeRent    Int
  typerent Type @relation(fields: [TypeRent], references: [IdType])
  Images      String @db.VarChar(200)
  sales Sales[]
}

model Roles {
  IdRol Int    @id @default(autoincrement())
  Rol   String @db.VarChar(100)
  users Users[]
}

model Sales {
  IdSales  Int @id @default(autoincrement())
  IdUser   Int
  users Users @relation(fields: [IdUser], references: [IdUsers])
  IdClient Int
  IdRent   Int
  dafe DateTime
  IdState Int
  state State @relation(fields: [IdState], references: [IdState])
  rent Rent @relation(fields: [IdRent], references: [IdRent])
}

model State {
  IdState Int @id @default(autoincrement())
  State String
  sales Sales[]
}

model Type {
  IdType   Int    @id @default(autoincrement())
  NameType String @db.VarChar(200)
  rent Rent[]
}

model Users {
  IdUsers  Int    @id @default(autoincrement())
  Name     String @db.VarChar(200)
  Lastname String @db.VarChar(200)
  Identify String @db.VarChar(20)
  Address  String @db.VarChar(200)
  Phone    String @db.VarChar(20)
  Password String @db.VarChar(20)
  Rol      Int
  roles   Roles @relation(fields: [Rol], references: [IdRol])
  sales   Sales[]
}
